<!DOCTYPE html><html lang="en" mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="day-prompt" content="days ago"><meta name="hour-prompt" content="hours ago"><meta name="minute-prompt" content="minutes ago"><meta name="justnow-prompt" content="just now"><meta name="generator" content="Jekyll v4.2.1" /><meta property="og:title" content="Xdebug 3 and Magento 2" /><meta name="author" content="Bwilliamson" /><meta property="og:locale" content="en" /><meta name="description" content="Xdebug - you should use it" /><meta property="og:description" content="Xdebug - you should use it" /><link rel="canonical" href="https://bwilliamson55.github.io/posts/Xdebug-3-and-Magento-2/" /><meta property="og:url" content="https://bwilliamson55.github.io/posts/Xdebug-3-and-Magento-2/" /><meta property="og:site_name" content="Bwilliamson’s Blog" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-09-09T13:20:00-04:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Xdebug 3 and Magento 2" /><meta name="twitter:site" content="@twitter_username" /><meta name="twitter:creator" content="@Bwilliamson" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"author":{"@type":"Person","name":"Bwilliamson"},"description":"Xdebug - you should use it","url":"https://bwilliamson55.github.io/posts/Xdebug-3-and-Magento-2/","@type":"BlogPosting","headline":"Xdebug 3 and Magento 2","dateModified":"2021-10-22T07:26:07-04:00","datePublished":"2021-09-09T13:20:00-04:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://bwilliamson55.github.io/posts/Xdebug-3-and-Magento-2/"},"@context":"https://schema.org"}</script><title>Xdebug 3 and Magento 2 | Bwilliamson's Blog</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Bwilliamson's Blog"><meta name="application-name" content="Bwilliamson's Blog"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end" lang="en"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/sample/avatar.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Bwilliamson's Blog</a></div><div class="site-subtitle font-italic">More Dude, less Walter</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/bwilliamson55" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['BenjaminAwilliamson','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="https://www.linkedin.com/in/benjamin-williamson/" aria-label="linkedin" > <i class="fab fa-linkedin"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Xdebug 3 and Magento 2</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Xdebug 3 and Magento 2</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> Bwilliamson </span> on <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Thu, Sep 9, 2021, 1:20 PM -0400" >Sep 9<i class="unloaded">2021-09-09T13:20:00-04:00</i> </span></div><div> <span> Updated <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Fri, Oct 22, 2021, 7:26 AM -0400" >Oct 22<i class="unloaded">2021-10-22T07:26:07-04:00</i> </span> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1522 words">8 min read</span></div></div><div class="post-content"><h1 id="xdebug---you-should-use-it">Xdebug - you should use it</h1><blockquote><p>Xdebug is an extension for PHP, and provides a range of features to improve the PHP development experience.</p></blockquote><p>This post will focus on the feature we use most often - <strong><em>Step Debugging</em></strong> as well as configuration, installation, and a bit of Magento 2.</p><hr /><hr /><h1 id="xdebug-2-vs-3">Xdebug 2 vs 3</h1><p>Xdebug 3 made a lot of great improvements over Xdebug 2. <a href="https://php.watch/articles/xdebug2-vs-3-benchmark?r">Performance is notably better across the board</a>, and the configuration is much easier.</p><h2 id="notable-differences">Notable Differences</h2><p>Take a look at the performance article linked above, and the <a href="https://xdebug.org/docs/upgrade_guide">official docs on upgrading from version 2 to 3</a> for extra detail.</p><h3 id="xdebugmode">xdebug.mode</h3><p>Instead of having a handful of configuration settings for each use case - most settings have been condensed into a single setting called <code class="language-plaintext highlighter-rouge">xdebug.mode</code>. This is an excellent addition because configurations like this:</p><div lang="plaintext" class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre>xdebug.remote_enable=1
xdebug.default_enable=0
xdebug.profiler_enable=0
xdebug.auto_trace=0
xdebug.coverage_enable=0
</pre></table></code></div></div><p>Now look like this:</p><div lang="plaintext" class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>xdebug.mode=debug
</pre></table></code></div></div><p>Nice right? There are a handful of other modes as well, but we’ll most likely be using <code class="language-plaintext highlighter-rouge">debug</code> or <code class="language-plaintext highlighter-rouge">off</code>. Setting the mode to <code class="language-plaintext highlighter-rouge">off</code> will disable all Xdebug features, reducing its performance impact to nearly nothing.</p><h3 id="xdebugstart_with_request">xdebug.start_with_request</h3><p>This is a really neat feature in Xdebug 3.</p><p>If we set this to <code class="language-plaintext highlighter-rouge">yes</code> then Xdebug is always running. A better option is to set this to <code class="language-plaintext highlighter-rouge">trigger</code>. Then, certain xdebug values passed with the request will trigger Xdebug to run, instead of it running all the time.<br /> <code class="language-plaintext highlighter-rouge">start_with_request=trigger</code> looks at <code class="language-plaintext highlighter-rouge">xdebug.trigger_value</code> for the trigger value. This defaults to “”, which will accept <strong><em>ANY</em></strong> value in the <code class="language-plaintext highlighter-rouge">XDEBUG_TRIGGER</code> header or environment variables.</p><p>Now this is a bit confusing because a lot of tutorials out there don’t follow this, and you never see <code class="language-plaintext highlighter-rouge">XDEBUG_TRIGGER</code> used. <em>Why is that..</em>. Xdebug <strong><em>also</em></strong> accepts the following legacy names for their types instead of <code class="language-plaintext highlighter-rouge">XDEBUG_TRIGGER</code>:</p><div lang="plaintext" class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre>XDEBUG_SESSION == Step Debugging
XDEBUG_PROFILE == Profiling
XDEBUG_TRACE == Function Trace
</pre></table></code></div></div><p>So on the CLI I still use <code class="language-plaintext highlighter-rouge">XDEBUG_SESSION=AnyValue php MyScript.php</code>, and in a web browser, the helper extensions generally set a <code class="language-plaintext highlighter-rouge">XDEBUG_SESSION</code> cookie when set to debug mode, using your IDEkey as the value.</p><h2 id="tldr">TLDR</h2><ul><li><code class="language-plaintext highlighter-rouge">xdebug.remote_host</code> Replaced by <a href="https://xdebug.org/docs/all_settings#client_host">xdebug.client_host</a><li><code class="language-plaintext highlighter-rouge">xdebug.remote_log</code> Replaced by <a href="https://xdebug.org/docs/all_settings#log">xdebug.log</a><li><code class="language-plaintext highlighter-rouge">xdebug.remote_autostart</code> has been removed. <a href="https://xdebug.org/docs/all_settings#start_with_request">xdebug.start_with_request</a> is used instead, with the value of <code class="language-plaintext highlighter-rouge">yes</code><li><code class="language-plaintext highlighter-rouge">xdebug.remote_connect_back</code> Replaced by <a href="https://xdebug.org/docs/all_settings#discover_client_host">xdebug.discover_client_host</a> set to true. If this fails, it will fallback to <a href="https://xdebug.org/docs/all_settings#client_host">xdebug.client_host</a><li><code class="language-plaintext highlighter-rouge">xdebug.remote_enable</code> Replaced by <a href="https://xdebug.org/docs/all_settings#mode">xdebug.mode</a> set to debug<li><code class="language-plaintext highlighter-rouge">xdebug.remote_port</code> Replaced by <a href="https://xdebug.org/docs/all_settings#client_port">xdebug.client_port</a> <strong><em>The default port has also changed to 9003</em></strong><li>With <code class="language-plaintext highlighter-rouge">xdebug.start_with_request</code> set to <code class="language-plaintext highlighter-rouge">trigger</code> - we can start a debugging session from the CLI with <code class="language-plaintext highlighter-rouge">XDEBUG_SESSION=AnyValue php myscript.php</code></ul><details> <summary>Example Xdebug 2 Configuration</summary><div lang="plaintext" class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre>[Xdebug]
zend_extension=/path/to/your/xdebug.so

xdebug.default_enable=1
xdebug.remote_enable=1
xdebug.remote_autostart=1
xdebug.idekey=PHPSTORM
xdebug.remote_port=9001
xdebug.remote_connect_back=1
xdebug.remote_host=localhost
</pre></table></code></div></div></details> <details> <summary>Example Xdebug 3 Configuration</summary><div lang="plaintext" class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre>[Xdebug]
zend_extension=xdebug.so

xdebug.mode=debug
xdebug.start_with_request=yes # I set this to 'trigger'
xdebug.idekey=PHPSTORM

xdebug.client_port=9003 # 9003 is the new default port. This setting is optional.
</pre></table></code></div></div></details><h1 id="installing-xdebug-3">Installing Xdebug 3</h1><p>Installing Xdebug is pretty trivial. There are a few requirements though:</p><ul><li>For OSX:<ul><li>Must have PHP installed via <a href="https://formulae.brew.sh/formula/php">Homebrew</a></ul><li>For Linux:<ul><li>Must have a package manager such as <code class="language-plaintext highlighter-rouge">apt</code> or <code class="language-plaintext highlighter-rouge">yum</code></ul></ul><h2 id="osx">OSX</h2><div lang="bash" class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>pecl <span class="nb">install </span>xdebug
</pre></table></code></div></div><p>Run <code class="language-plaintext highlighter-rouge">php -v</code> to confirm Xdebug is installed.</p><blockquote><p><strong><em>Note:</em></strong> I have seen OSX with Homebrew throw an error here about directories not existing when installing this way. If this happens to you, simply create those directories and try again. Normally it’s due to a symlink being expanded incorrectly - e.g. <code class="language-plaintext highlighter-rouge">/usr/local/Cellar/php@7.4/7.4.20/pecl/</code> is actually a symlink.</p></blockquote><h2 id="linux">Linux</h2><div lang="bash" class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>apt-get <span class="nb">install </span>php-xdebug
</pre></table></code></div></div><p>In some distributions you’ll need to use <code class="language-plaintext highlighter-rouge">yum</code> instead, and/or call out the specific PHP version like:</p><div lang="bash" class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>apt-get <span class="nb">install </span>php7.4-xdebug
</pre></table></code></div></div><p>Run <code class="language-plaintext highlighter-rouge">php -v</code> to confirm Xdebug is installed.</p><h1 id="configuration">Configuration</h1><p>Whether you’re on Linux or OSX, you can find where PHP is scanning for ini files with:</p><div lang="bash" class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre>php <span class="nt">--ini</span>

<span class="c"># Output Example:</span>

Configuration File <span class="o">(</span>php.ini<span class="o">)</span> Path: /usr/local/etc/php/7.4
Loaded Configuration File:        /usr/local/etc/php/7.4/php.ini
Scan <span class="k">for </span>additional .ini files <span class="k">in</span>: /usr/local/etc/php/7.4/conf.d
/usr/local/etc/php/7.4/conf.d/error_log.ini,
/usr/local/etc/php/7.4/conf.d/ext-opcache.ini,
/usr/local/etc/php/7.4/conf.d/php-memory-limits.ini
</pre></table></code></div></div><p><strong><em>Important:</em></strong><br /> Add <code class="language-plaintext highlighter-rouge">zend_extension=xdebug</code> to the end of your primary php.ini file.</p><p>For the Xdebug ini, if we see an existing one in the list above- we can modify that one. Otherwise let’s create one in a directory we know is scanned. In this example we can create an ini in <code class="language-plaintext highlighter-rouge">/usr/local/etc/php/7.4/conf.d</code> and call it <code class="language-plaintext highlighter-rouge">20-xdebug.ini</code>.</p><p>The file contents:</p><div lang="plaintext" class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre>xdebug.mode=debug
xdebug.client_host=localhost
xdebug.start_with_request=trigger
xdebug.idekey=phpstorm
</pre></table></code></div></div><p><strong>That’s it?</strong> Yea, basically. We can add more settings to this configuration if our situation requires it. Refer the the TLDR for some commonly used settings, or the official docs for more.</p><p>Restart php for your environment to grab the changes.<br /> If we’re using valet on OSX then <code class="language-plaintext highlighter-rouge">valet restart</code>,<br /> If we’re using Linux then most likely <code class="language-plaintext highlighter-rouge">/etc/init.d/php-fpm restart</code></p><p>Run <code class="language-plaintext highlighter-rouge">php --ini</code> again and behold:</p><div lang="bash" class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre>Configuration File <span class="o">(</span>php.ini<span class="o">)</span> Path: /usr/local/etc/php/7.4
Loaded Configuration File:        /usr/local/etc/php/7.4/php.ini
Scan <span class="k">for </span>additional .ini files <span class="k">in</span>: /usr/local/etc/php/7.4/conf.d
Additional .ini files parsed:      /usr/local/etc/php/7.4/conf.d/20-xdebug.ini,
/usr/local/etc/php/7.4/conf.d/error_log.ini,
/usr/local/etc/php/7.4/conf.d/ext-opcache.ini,
/usr/local/etc/php/7.4/conf.d/php-memory-limits.ini
</pre></table></code></div></div><h2 id="phpstorm-configuration">PhpStorm Configuration</h2><p>Open your preferences, and search for <code class="language-plaintext highlighter-rouge">PHP</code>. It will generally be under <code class="language-plaintext highlighter-rouge">Languages &amp; Frameworks</code>.</p><p>If you don’t see a CLI interpreter, click the <code class="language-plaintext highlighter-rouge">...</code> beside the field and <a href="https://www.jetbrains.com/help/phpstorm/configuring-local-interpreter.html">create one from your local PHP installation</a>.</p><p><img data-proofer-ignore data-src="/assets/img/post images/magento/xdebug/01.png" alt="01" class="normal" /></p><p>By Clicking the <code class="language-plaintext highlighter-rouge">...</code> we can see if we have a debugger installed properly:</p><p><img data-proofer-ignore data-src="/assets/img/post images/magento/xdebug/02.png" alt="02" class="normal" /></p><p>Click on <code class="language-plaintext highlighter-rouge">Debug</code> under the <code class="language-plaintext highlighter-rouge">PHP</code> menu in your preferences, Enter your <code class="language-plaintext highlighter-rouge">xdebug.client_port</code> value in the <code class="language-plaintext highlighter-rouge">Debug port:</code> field. Default is 9003 for xdebug, but this field accepts multiple values if you like- just comma separate them (<code class="language-plaintext highlighter-rouge">9000,9003</code>).</p><p>Check the <code class="language-plaintext highlighter-rouge">Can accept external connections</code> checkbox.</p><p>Checking the <code class="language-plaintext highlighter-rouge">Force break at first line when no path mapping specified</code> checkbox is a good idea- this will cause the debugger to stop on any files outside of your servers set in the <code class="language-plaintext highlighter-rouge">Servers</code> tab, while it’s running.</p><p>Checking the <code class="language-plaintext highlighter-rouge">Force break at first line when a script is outside the project</code> can be helpful sometimes, but will become annoying quickly if you don’t need that.</p><p>In the <code class="language-plaintext highlighter-rouge">External Connections</code> section - Set your max simultaneous connections, and take note of the option <code class="language-plaintext highlighter-rouge">Break at first line in PHP scripts</code>. This option can also be enabled via the <code class="language-plaintext highlighter-rouge">main menu -&gt; Run -&gt; Break at first line in PHP scripts</code></p><p><img data-proofer-ignore data-src="/assets/img/post images/magento/xdebug/03.png" alt="03" class="normal" /></p><h1 id="helpers">Helpers</h1><p>There are a TON of great helper features in Xdebug 3. <a href="https://xdebug.org/docs/develop">Too many to cover here</a>.</p><h2 id="browser-extensions">Browser Extensions</h2><p>To easily trigger Xdebug via your browser, grab the helper extension for your browser of choice.</p><p><a href="https://addons.mozilla.org/en-GB/firefox/addon/xdebug-helper-for-firefox/">Xdebug Helper for Firefox</a> <a href="https://github.com/BrianGilbert/xdebug-helper-for-firefox">(source)</a>. <br /> <a href="https://chrome.google.com/extensions/detail/eadndfjplgieldjbigjakmdgkmoaaaoc">Xdebug Helper for Chrome</a> <a href="https://github.com/mac-cain13/xdebug-helper-for-chrome">(source)</a>. <br /> <a href="https://apps.apple.com/app/safari-xdebug-toggle/id1437227804?mt=12">XDebugToggle for Safari</a> <a href="https://github.com/kampfq/SafariXDebugToggle">(source)</a>.</p><p>Each extension adds an icon to your browser where you can select which functionality you want to trigger. Xdebug will start debugging for every request as long as the debug toggle has been enabled. The settings of the extension generally include fields for your trigger and/or IDE key values.</p><h1 id="using-xdebug-in-phpstorm">Using Xdebug in PhpStorm</h1><p>Once configured, you can begin using your browser extension or CLI trigger in combination with toggling the debug icon: <br /> Off: <img data-proofer-ignore data-src="/assets/img/post images/magento/xdebug/04.png" alt="04" class="normal" /> On: <img data-proofer-ignore data-src="/assets/img/post images/magento/xdebug/05.png" alt="05" class="normal" /></p><p>Now PhpStorm is listening for Xdebug connections.</p><h2 id="setting-breakpoints">Setting <a href="https://www.jetbrains.com/help/phpstorm/using-breakpoints.html">breakpoints</a></h2><p>Open your desired PHP file from your project, and left click in the gutter - the red circle is your breakpoint. This is where Xdebug will pause the execution in PhpStorm, and let you take control.</p><p>You can right click the break points to enable/disable them and set conditionals - more on that in a bit.</p><p><img data-proofer-ignore data-src="/assets/img/post images/magento/xdebug/06.png" alt="06" class="normal" /></p><h2 id="so-many-buttons">So many buttons</h2><p>So you hit a breakpoint. Now what?</p><p><img data-proofer-ignore data-src="/assets/img/post images/magento/xdebug/07.png" alt="07" class="normal" /></p><p>It’s time to <a href="https://www.jetbrains.com/help/phpstorm/stepping-through-the-program.html">Step through the program</a>. Your step options are <img data-proofer-ignore data-src="/assets/img/post images/magento/xdebug/08.png" alt="08" class="normal" /></p><ul><li>Over(F8),<ul><li>Takes you to the next line even if the highlighted line has method calls in it.</ul><li>Into(F7),<ul><li>Follow the methods in the current line, to examine the how of what is returned.</ul><li>Force Into(Option+SHFT+F7),<ul><li>Steps into the method even if it’s skipped by the reular Step Into. I have never used this.</ul><li>Out(SHFT+F8),<ul><li>Go back to the method that called where you are now.</ul><li>Run to Cursor(Option+F9 or click number in gutter)<ul><li>Big time saver here. You can skip ahead during your debug session this way.</ul></ul><p><img data-proofer-ignore data-src="/assets/img/post images/magento/xdebug/09.png" alt="09" class="normal" /></p><h3 id="break-on-script-start">Break on script start</h3><blockquote><p>Don’t forget about <code class="language-plaintext highlighter-rouge">Run-&gt;Break at first line in PHP scripts</code>. This option will help when you can’t find the correct files to set break points on.</p></blockquote><p><img data-proofer-ignore data-src="/assets/img/post images/magento/xdebug/10.png" alt="10" class="normal" /></p><h3 id="contitional-break-points">Contitional Break Points</h3><p>This is a very awesome feature. We can set up break points to only break when a certain value is passed through. This saves us a lot of time when we are debugging loops. To continue with the above code examples, this is the Magento 2 Theme regestration when you run <code class="language-plaintext highlighter-rouge">setup:upgrade</code>, and I’ve set it to only break when the Luma theme is passing by:</p><p><img data-proofer-ignore data-src="/assets/img/post images/magento/xdebug/11.png" alt="11" class="normal" /></p><h2 id="evaluate-expression">Evaluate Expression</h2><p>In a similar and often more useful way than conditional break points, we can evaluate code on the fly.</p><p>Once a break point is triggered, we can right click anywhere in the code and select <code class="language-plaintext highlighter-rouge">Evaluate Expression</code> or press <code class="language-plaintext highlighter-rouge">Option+F8</code></p><p><img data-proofer-ignore data-src="/assets/img/post images/magento/xdebug/12.png" alt="12" class="normal" /></p><p>From here we can test out methods in real time, and even see suggested methods based on where we are in the code!</p><p><img data-proofer-ignore data-src="/assets/img/post images/magento/xdebug/13.png" alt="13" class="normal" /> <img data-proofer-ignore data-src="/assets/img/post images/magento/xdebug/14.png" alt="14" class="normal" /></p><h1 id="conclusion">Conclusion</h1><p>Xdebug 3 is great; Not that hard to install or configure, and you should be using it if you work with PHP. I do not miss <code class="language-plaintext highlighter-rouge">var_dump()</code>.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/magento/'>Magento</a>, <a href='/categories/dev/'>Dev</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/magento/" class="post-tag no-text-decoration" >magento</a> <a href="/tags/osx/" class="post-tag no-text-decoration" >OSX</a> <a href="/tags/linux/" class="post-tag no-text-decoration" >linux</a> <a href="/tags/xdebug/" class="post-tag no-text-decoration" >xdebug</a> <a href="/tags/phpstorm/" class="post-tag no-text-decoration" >phpstorm</a> <a href="/tags/ide/" class="post-tag no-text-decoration" >IDE</a> <a href="/tags/debug/" class="post-tag no-text-decoration" >debug</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Xdebug 3 and Magento 2 - Bwilliamson's Blog&url=https://bwilliamson55.github.io/posts/Xdebug-3-and-Magento-2/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Xdebug 3 and Magento 2 - Bwilliamson's Blog&u=https://bwilliamson55.github.io/posts/Xdebug-3-and-Magento-2/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https://bwilliamson55.github.io/posts/Xdebug-3-and-Magento-2/" data-toggle="tooltip" data-placement="top" title="Linkedin" target="_blank" rel="noopener" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink('', 'Link copied successfully!')" data-toggle="tooltip" data-placement="top" title="Copy link"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/Magento-2-Data-Patches/">Magento 2 Data Patches</a><li><a href="/posts/Xdebug-3-and-Magento-2/">Xdebug 3 and Magento 2</a><li><a href="/posts/Renewing-a-RDS-or-RDG-SSL-certificate-with-Godaddy-SSL/">Renewing a RDS/RDG SSL certificate with Godaddy SSL</a><li><a href="/posts/Profiles,-Bashrc,-and-Zshrc/">Profiles, Bashrc, and Zshrc</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/powershell/">powershell</a> <a class="post-tag" href="/tags/magento/">magento</a> <a class="post-tag" href="/tags/sysadmin/">sysadmin</a> <a class="post-tag" href="/tags/exchange/">exchange</a> <a class="post-tag" href="/tags/bash/">bash</a> <a class="post-tag" href="/tags/etl/">etl</a> <a class="post-tag" href="/tags/linux/">linux</a> <a class="post-tag" href="/tags/mysql/">mysql</a> <a class="post-tag" href="/tags/windows-server/">windows server</a> <a class="post-tag" href="/tags/bashrc/">bashrc</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/Magento-2-Data-Patches/"><div class="card-body"> <span class="timeago small" >Sep 3<i class="unloaded">2021-09-03T10:19:00-04:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Magento 2 Data Patches</h3><div class="text-muted small"><p> Data Patches; They’re awesome. Before 2.3, Magento used Install and Upgrade scripts to modify your schema, and other things. This has been deprecated in favor of a much easier (I think) declaratio...</p></div></div></a></div><div class="card"> <a href="/posts/How-to-Entities-Part-1/"><div class="card-body"> <span class="timeago small" >Dec 4<i class="unloaded">2021-12-04T16:13:00-05:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>How to ... Entities Part 1</h3><div class="text-muted small"><p> A very common question in Magento development is How to bla bla entity(ies). I find myself doing this from time to time as well, either out of laziness or because I’ve run into something quirky. ...</p></div></div></a></div><div class="card"> <a href="/posts/Profiles,-Bashrc,-and-Zshrc/"><div class="card-body"> <span class="timeago small" >Aug 19<i class="unloaded">2021-08-19T11:29:00-04:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Profiles, Bashrc, and Zshrc</h3><div class="text-muted small"><p> Let’s talk about profiles. Something I don’t see used often enough is profiles. Sysadmins, Support, and even Developers/Engineers that I’ve worked with would give me a raised eyebrow when I would ...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/Magento-2-Data-Patches/" class="btn btn-outline-primary" prompt="Older"><p>Magento 2 Data Patches</p></a> <a href="/posts/How-to-Entities-Part-1/" class="btn btn-outline-primary" prompt="Newer"><p>How to ... Entities Part 1</p></a></div><div id="disqus" class="pt-2 pb-2"><p class="text-center text-muted small pb-5"> Comments powered by <a href="https://disqus.com/">Disqus</a>.</p></div><script src="/assets/js/lib/jquery.disqusloader.min.js"></script> <script> const options = { scriptUrl: '//bwilliamson.disqus.com/embed.js', disqusConfig: function() { this.page.title = 'Xdebug 3 and Magento 2'; this.page.url = 'https://bwilliamson55.github.io/posts/Xdebug-3-and-Magento-2/'; this.page.identifier = '/posts/Xdebug-3-and-Magento-2/'; } }; $.disqusLoader('#disqus', options); </script></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2021 <a href="https://github.com/bwilliamson55">Bwilliamson</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/powershell/">powershell</a> <a class="post-tag" href="/tags/magento/">magento</a> <a class="post-tag" href="/tags/sysadmin/">sysadmin</a> <a class="post-tag" href="/tags/exchange/">exchange</a> <a class="post-tag" href="/tags/bash/">bash</a> <a class="post-tag" href="/tags/etl/">etl</a> <a class="post-tag" href="/tags/linux/">linux</a> <a class="post-tag" href="/tags/mysql/">mysql</a> <a class="post-tag" href="/tags/windows-server/">windows server</a> <a class="post-tag" href="/tags/bashrc/">bashrc</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://bwilliamson55.github.io{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-Q6X18HXBYM"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-Q6X18HXBYM'); }); </script>
